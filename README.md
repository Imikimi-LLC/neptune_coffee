# NeptuneCoffee

## WORK IN PROGRESS
This is a work in progress. The basic idea of directories-define-modules is core, as is including the directory_name.js file to included the module. However, the other generated files are still experimental as-is the requirements pattern for module internals.

## What is it?

* opinionated javascript-AMD-module generator

## Purpose

* make working with javascript AMD modules easier
* minimize refactoring complexity
* minimize the amount of code you have to write

If you are working with dozens or hundreds of Javascript files, wouldn't you like some way to easily organize them into modules?

NeptuneCoffee is an opinionated module generator. Modules and namespaces are automatically generated based on the project's directory names and structure.

NeptuneCoffee generates the .js files to define your AMD modules.

## Optionated?
NeptuneCoffee has an opinion about how you should organize your javascript for AMD modules. It is:

* Directories are AMD modules
* Directory names the AMD module names
* Directory names snake_case
* generated AMD module names are CamelCase
* require "foo/bar" includes all files in the module defined by the directory "foo/bar"
* Defines a global namespace for accessing AMD modules: window.Neptune.YourRootModule.YourSubModule

## Benefit

Refactoring module structure is as simple as renaming and moving directories and files. Often you won't have to change a line of code.

## What does it do?

For every $subdir, NeptuneCoffee generates:

	$subdir/neptune.js    // loads and attaches all sub-namespaces to $subdir's namespace object
	$subdir/namespace.js  // defines $subdir's namespace object
	$subdir.js            // loads all .js files in $subdir recursively
	                      // all three files return $subdir's namespace object

# How to Use

Install neptune_coffee (see below). Then, whenever your directory structure changes or you move/add/rename/delete files, run:

    neptune_coffee -r source/root

* Client should require: **$subdir.js** for the AMD module **source/root/$subdir**
* Source files in **source/root/$subdir/** should require: **$subdir/neptune.js** or **$subdir/namespace.js**

## Example

Given this directory structure and files:

    geometry/solids/cone.js
    geometry/box.js
    geometry/circle.js

NeptineCoffee generates:

	geometry.js
	geometry/namespace.js
	geometry/neptune.js
	geometry/solids.js
	geometry/solids/namespace.js
	geometry/solids/neptune.js

geometry.js might look like:

	// Generated by NeptuneCoffee 0.0.1
	define([
	  "geometry/namespace",
	  "geometry/box",
	  "geometry/circle",
	  "geometry/neptune",
	  "geometry/solids"
	  ], function(Geometry) {
	  return Geometry;
	});

## Installation

Add this line to your application's Gemfile:

    gem 'neptune_coffee'

And then execute:

    $ bundle

Or install it yourself as:

    $ gem install neptune_coffee


## Contributing

1. Fork it
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. Push to the branch (`git push origin my-new-feature`)
5. Create new Pull Request
